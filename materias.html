<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" href="materias.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Materias Semestre 1</title>
    <script src="util.js"></script>
</head>
<header>
    <div class="logo-container">
        <!-- Agrega tu logo aquí -->
        <a href="inicio-estudiante.html">
            <img src="Logo-universidad-ecotec.png" alt="Logo" class="logo">
        </a>
    </div>
    
    <div class="user-info">
        <span>MARIA</span>
        <br>
        <span>Estudiante Grado</span>
        <div class="small-image-container">
            <img src="cerebro.png" alt="Imagen pequeña" class="small-image">
        </div>
    </div>
</header>
<body>
    <div class="container">
        <div class="course" id="course1">
            <h2>Materia: Derecho Civil Obligaciones 2 </h2>
            <p>Campus: JTM</p>
            <p>Curso: 146</p>
            <p>Horario:martes y jueves de 16:00 PM a 17:00 PM</p>
            <button class="button" onclick="registerCourse('course1', 'Derecho Civil Obligaciones 2', 'JTM', '146', 'martes y jueves de 16:00 PM a 17:00 PM')">Cursando</button>
        </div>
        <div class="course" id="course2">
            <h2>Materia: Procedimiento civil 1</h2>
            <p>Campus: JTM</p>
            <p>Curso: 200</p>
            <p>Horario: Martes y Jueves de 19:15  PM a 20:45 PM</p>
            <button class="button" onclick="registerCourse('course2', 'Procedimiento civil 1', 'JTM', '200', ' Martes y Jueves de 19:15  PM a 20:45 PM')">Cursando</button>
        </div>
        <div class="course" id="course4">
            <h2>Materia: Servicios comunitarios</h2>
            <p>Campus: JTM</p>
            <p>Curso: 106</p>
            <p>Horario: Viernes de 19:00  PM a 21:00 PM</p>
            <button class="button" onclick="registerCourse('course4', 'Servicios comunitario', 'JTM', '106', '  Viernes de 19:00  PM a 21:00 PM')">Cursando</button>
        </div>
        
        <div class="course" id="course3">
            <h2>Materia: Derecho penal económico1</h2>
            <p>Campus: JTM</p>
            <p>Curso: 102</p>
            <p>Horario: Martes y Jueves de 21:15  PM a 10:00 PM</p>
            <button class="button" onclick="registerCourse('course3', 'Derecho penal económico', 'JTM', '102', '  Martes y Jueves de 21:15  PM a 10:00 PM')">Cursando</button>
        </div>

        <div class="course" id="course5">
            <h2>Materia: Practicas Preprofesionales 1</h2>
            <p>Campus: JTM</p>
            <p>Curso: aula virtual 37</p>
            <p>Horario: Lunes y Miercoles de 11:00  AM a 12:30 PM</p>
            <button class="button" onclick="registerCourse('course5', 'Practicas Preprofesionales 1', 'JTM', 'aula virtual 37', '  Lunes y Miercoles de 11:00  AM a 12:30 PM')">Cursando</button>
        </div>
        
    </div>

    <script>
        function registerCourse(courseId, courseName, campus, courseCode, schedule) {
            var courses = JSON.parse(localStorage.getItem('registeredCourses')) || [];
            
            if (courses.length >= 6) {
                alert('Ya has registrado el máximo de materias permitidas.');
                return;
            }
            
            var alreadyRegistered = courses.some(course => course.id === courseId);
            if (alreadyRegistered) {
                alert('Esta materia ya ha sido registrada.');
                return;
            }

            var courseDetails = {
                id: courseId,
                name: courseName,
                campus: campus,
                courseCode: courseCode,
                schedule: schedule
            };
            
            var course = document.getElementById(courseId);
            course.classList.add('hidden');
            
            courses.push(courseDetails);
            localStorage.setItem('registeredCourses', JSON.stringify(courses));
            console.log('Materia registrada:', courseDetails);
            console.log('Materias registradas:', courses);
            alert('Registro de materia exitosamente');
            updateRecentCourses(); // Llama a la función para actualizar las materias recientes en "Inicio Estudiante"
        }
    </script>
</body>
</html>
